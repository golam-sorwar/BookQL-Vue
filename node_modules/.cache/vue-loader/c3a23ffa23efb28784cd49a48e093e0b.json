{"remainingRequest":"/Users/akib/Documents/Laravel/Research/bookql-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/akib/Documents/Laravel/Research/bookql-vue/src/views/EditBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/akib/Documents/Laravel/Research/bookql-vue/src/views/EditBook.vue","mtime":1565193604854},{"path":"/Users/akib/Documents/Laravel/Research/bookql-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akib/Documents/Laravel/Research/bookql-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/akib/Documents/Laravel/Research/bookql-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/akib/Documents/Laravel/Research/bookql-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport updateBook from \"../graphql/mutations/UpdateBook.gql\";\nimport book from \"../graphql/queries/Book.gql\";\n\nexport default {\n  data() {\n    return {\n      title: \"\",\n      author: \"\",\n      image: \"\",\n      description: \"\",\n      link: \"\",\n      featured: false,\n      category_id: 1,\n      book: null\n    };\n  },\n  apollo: {\n    // Advanced query with parameters\n    // The 'variables' method is watched by vue\n    book: {\n      query: book,\n      // Reactive parameters\n      variables() {\n        if (this.$route && this.$route.params) {\n          return {\n            id: this.$route.params.id\n          };\n        }\n      },\n      // Optional result hook\n      result({ data: { book } }) {\n        this.title = book.title;\n        this.author = book.author;\n        this.image = book.image;\n        this.description = book.description;\n        this.link = book.link;\n        this.featured = book.featured;\n        this.category_id = book.category.id;\n      }\n    }\n  },\n  methods: {\n    editBook() {\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: updateBook,\n          // Parameters\n          variables: {\n            id: this.$route.params.id,\n            title: this.title,\n            author: this.author,\n            image: this.image,\n            link: this.link,\n            description: this.description,\n            featured: this.featured,\n            category_id: this.category_id\n          }\n        })\n        .then(data => {\n          console.log(data);\n          this.$router.push(`/book/${this.$route.params.id}`);\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    }\n  }\n};\n",{"version":3,"sources":["EditBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditBook.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"edit container mt-12\">\n    <h1 class=\"mb-4\">Edit Book</h1>\n    <form action=\"#\" method=\"POST\" @submit.prevent=\"editBook\">\n      <div class=\"form-group\">\n        <label class=\"font-bold mb-2\" for=\"title\">Title</label>\n        <input type=\"text\" name=\"title\" id=\"title\" v-model=\"title\" />\n      </div>\n      <div class=\"form-group\">\n        <label class=\"font-bold mb-2\" for=\"author\">Author</label>\n        <input type=\"text\" name=\"author\" id=\"author\" v-model=\"author\" />\n      </div>\n      <div class=\"form-group\">\n        <label class=\"font-bold mb-2\" for=\"image\">Image</label>\n        <input type=\"text\" name=\"image\" id=\"image\" v-model=\"image\" />\n      </div>\n      <div class=\"form-group\">\n        <label class=\"font-bold mb-2\" for=\"description\">Description</label>\n        <textarea\n          name=\"description\"\n          id=\"description\"\n          cols=\"30\"\n          rows=\"10\"\n          v-model=\"description\"\n        ></textarea>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"font-bold mb-2\" for=\"link\">Link</label>\n        <input type=\"text\" name=\"link\" id=\"link\" v-model=\"link\" />\n      </div>\n      <div class=\"form-group\">\n        <label class=\"font-bold mb-2\"\n          ><input\n            type=\"checkbox\"\n            name=\"featured\"\n            v-model=\"featured\"\n            class=\"mr-2\"\n          />Featured</label\n        >\n      </div>\n      <div class=\"form-group\">\n        <ApolloQuery :query=\"require('@/graphql/queries/Categories.gql')\">\n          <template slot-scope=\"{ result: { data, loading }, isLoading }\">\n            <div v-if=\"isLoading\">Loading...</div>\n            <select v-else v-model=\"category_id\">\n              <option\n                v-for=\"category of data.categories\"\n                :key=\"category.id\"\n                :value=\"category.id\"\n              >\n                {{ category.name }}\n              </option>\n            </select>\n          </template>\n        </ApolloQuery>\n      </div>\n\n      <div class=\"form-group\">\n        <button type=\"submit\">Update book</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport updateBook from \"../graphql/mutations/UpdateBook.gql\";\nimport book from \"../graphql/queries/Book.gql\";\n\nexport default {\n  data() {\n    return {\n      title: \"\",\n      author: \"\",\n      image: \"\",\n      description: \"\",\n      link: \"\",\n      featured: false,\n      category_id: 1,\n      book: null\n    };\n  },\n  apollo: {\n    // Advanced query with parameters\n    // The 'variables' method is watched by vue\n    book: {\n      query: book,\n      // Reactive parameters\n      variables() {\n        if (this.$route && this.$route.params) {\n          return {\n            id: this.$route.params.id\n          };\n        }\n      },\n      // Optional result hook\n      result({ data: { book } }) {\n        this.title = book.title;\n        this.author = book.author;\n        this.image = book.image;\n        this.description = book.description;\n        this.link = book.link;\n        this.featured = book.featured;\n        this.category_id = book.category.id;\n      }\n    }\n  },\n  methods: {\n    editBook() {\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: updateBook,\n          // Parameters\n          variables: {\n            id: this.$route.params.id,\n            title: this.title,\n            author: this.author,\n            image: this.image,\n            link: this.link,\n            description: this.description,\n            featured: this.featured,\n            category_id: this.category_id\n          }\n        })\n        .then(data => {\n          console.log(data);\n          this.$router.push(`/book/${this.$route.params.id}`);\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.form-group {\n  margin-bottom: 32px;\n}\ninput[type=\"text\"],\ntextarea {\n  padding: 10px 14px;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n}\nlabel {\n  display: block;\n}\nbutton {\n  padding: 16px;\n  background: #027bff;\n  color: white;\n  border-radius: 5px;\n  font-size: 16px;\n}\n</style>\n"]}]}